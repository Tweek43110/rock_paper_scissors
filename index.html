<!DOCTYPE html>
<html>
    <head>
        <title>Rock, Paper, Scissors</title>
    </head>
    <body>
        <script>    
            let compScore = 0;
            let playerScore = 0;
            
            // Random number generator for computer answer selection
            function computerPlay() {
                const computerAnswer = Math.ceil(Math.random() * 3);
                if (computerAnswer === 1) {
                    return "rock";
                }else if (computerAnswer === 2) {
                    return "paper";
                } else {
                    return "scissors";
                }
            }    
            
            // Plays one round
            function playRound(playerSelection, computerSelection) {
                let winMessage = ("Congrats you won, " + playerSelection + " beats " + computerSelection + "!");
                let lossMessage = ("Sorry you lost, " + computerSelection + " beats " + playerSelection + "!");
                let tieMessage = ("You tied, you both chose " + playerSelection + "."); 
                let errorMessage = "Something went wrong! Did you enter a valid selection?";

                if ((playerSelection === "rock" && computerSelection === "scissors") ||
                    (playerSelection === "scissors" && computerSelection === "paper") ||
                    (playerSelection === "paper" && computerSelection === "rock")) {
                        playerScore++;
                        return winMessage;
                }
                else if ((playerSelection === "rock" && computerSelection === "paper") ||                    
                        (playerSelection === "paper" && computerSelection === "scissors") ||
                        (playerSelection === "scissors" && computerSelection === "rock")) {
                            compScore++;
                            return lossMessage;       
                }
                else if ((playerSelection === computerSelection)) {
                            return tieMessage;
                }
                else {
                    return errorMessage;
                } 
            }
        
            // plays game until player or computer score reaches 5
            function game() {
                while (playerScore <= 5 || compScore <= 5) {
                    let playerSelection = prompt("Choose rock, paper or scissors:");
                    playerSelection = playerSelection.toLowerCase();
                    let computerSelection = computerPlay();
                    console.log(playRound(playerSelection, computerSelection));

                //Displays current score or round win message
                if (playerScore === 5) {
                    alert("Congatulations, you beat the computer! Play Again?");;
                } else if (compScore === 5) {
                    alert("Sorry, the computer beat you. Try again?");
                } else {
                    console.log("The player has " + playerScore + " points and the computer has " + compScore + " points.");
                }
                }

            }

            game();
        </script>
    </body>
</html>